.. _magic_functions:

================
魔法函数与特殊变量
================

.. contents:: :local:


.. _introduction:

简介
------------

在 Python 中，魔法方法（Magic Methods）和特殊变量（Special Variables）都是通过特定的命名规则来定义的。
魔法方法是一种在类中定义的特殊方法，它们以双下划线开头和结尾。Python 对象可以说天生就具有这些魔法方法，我们也可以通过对类添加或者重载这些特殊方法
来实现自己想要的行为。

特殊变量是一些具有特殊含义的变量，它们也以双下划线开头和结尾。

由于 Python 内置魔法方法众多，在此我列举几个常见的魔法方法和特殊变量进行学习。

.. _functions:

常见魔法函数与使用
----------------------

本节将介绍一些常见的魔法函数及其用途。

:class:`~object.__init__`
~~~~~~~~~~~~~~~~~~~~~~~~~

`__init__` 方法是类的构造函数，用于在创建对象时进行初始化操作。

:class:`~object.__str__`
~~~~~~~~~~~~~~~~~~~~~~~~

`__str__` 方法定义了对象的字符串表示形式，通常在使用 `str()` 函数时调用。

:class:`~object.__len__`
~~~~~~~~~~~~~~~~~~~~~~~~

`__len__` 方法返回对象的长度，通常在使用 `len()` 函数时调用。


常见魔法属性与使用
----------------------

本节将演示如何使用这些魔法函数。

:class:`~object.__init__` 的使用
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

为类定义 `__init__` 方法，并在创建对象时执行必要的初始化操作。

:class:`~object.__str__` 的使用
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

为类定义 `__str__` 方法，以便更友好地打印对象的字符串表示形式。

:class:`~object.__len__` 的使用
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

为类定义 `__len__` 方法，并在需要获取对象长度时使用 `len()` 函数。


参考
----------

以下是一些参考文章，可以深入学习 Python 魔法函数的更多内容：

- `Python 官方文档 - Data Model <https://docs.python.org/3/reference/datamodel.html>`_

- `Python Magic Methods by Example <https://rszalski.github.io/magicmethods/>`_
